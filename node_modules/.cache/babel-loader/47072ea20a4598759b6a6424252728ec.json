{"ast":null,"code":"import _classCallCheck from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andy/git/volleyball/src/components/Api.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios'; // import ImageList from \"./ImageList\";\n\nvar baseUrl = \"https://api.flickr.com/services/rest/\";\nvar defaultParams = {\n  API_KEY: process.env.REACT_APP_API_KEY,\n  safe_search: 1,\n  per_page: 20,\n  format: 'json',\n  nojsoncallback: 1,\n  extras: 'owner_name,description,tags'\n};\n\nfunction getPhotoURL(photo) {\n  var id = photo.id,\n      farm = photo.farm,\n      secret = photo.secret,\n      server = photo.server;\n  return \"https://farm\".concat(farm, \".staticflickr.com/\").concat(server, \"/\").concat(id, \"_\").concat(secret, \".jpg\");\n}\n\nfunction getAuthorURL(photo) {\n  return \"https://www.flickr.com/people/\".concat(photo.owner, \"/\");\n}\n\nfunction fetchPhotos(photo) {\n  return axios.get(baseUrl, {\n    defaultParams: defaultParams\n  }).then(function (_ref) {\n    var data = _ref.data;\n\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Fetched photos ', data);\n    }\n\n    if (data.stat === 'fail' || !data.photos) {\n      throw new Error('API request failed.');\n    }\n\n    var photos = data.photos.photo || [];\n    return photos.map(function (item) {\n      item.description = item.description._content;\n      item.photoURL = getPhotoURL(item);\n      item.authorURL = getAuthorURL(item);\n      return item;\n    });\n  });\n}\n\n;\n\nvar Api =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Api, _Component);\n\n  function Api() {\n    _classCallCheck(this, Api);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Api).apply(this, arguments));\n  }\n\n  _createClass(Api, [{\n    key: \"render\",\n    //   constructor(props) {\n    //     super(props);\n    //     this.state = {\n    //       items: [],\n    //     }\n    //   }\n    //   componentDidMount() {\n    //     const url = `${baseUrl}?method=flickr.photos.getRecent&api_key=${API_KEY}&per_page=10&format=json&nojsoncallback=1&extras=owner_name,description,url_o`;\n    //     fetch(url)\n    //       .then(response => response.json())\n    //       .then(data => {\n    //         let picArray = data.photos.photo.map(pic => {\n    //           let srcPath =\n    //             \"https://farm\" +\n    //             pic.farm +\n    //             \".staticflickr.com/\" +\n    //             pic.server +\n    //             \"/\" +\n    //             pic.id +\n    //             \"_\" +\n    //             pic.secret +\n    //             \".jpg\";\n    //           return <img alt=\"pic\" src={srcPath} />;\n    //         });\n    //       }\n    //       .then()\n    //     );\n    //   }\n    value: function render() {\n      // const photos = this.state.items.map(photos => {\n      //   return <div>{photos}</div>;\n      // });\n      // console.log('hi', {photos});\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Api;\n}(Component);\n\nexport default Api;","map":{"version":3,"sources":["/Users/andy/git/volleyball/src/components/Api.js"],"names":["React","Component","axios","baseUrl","defaultParams","API_KEY","process","env","REACT_APP_API_KEY","safe_search","per_page","format","nojsoncallback","extras","getPhotoURL","photo","id","farm","secret","server","getAuthorURL","owner","fetchPhotos","get","then","data","NODE_ENV","console","log","stat","photos","Error","map","item","description","_content","photoURL","authorURL","Api"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AAEA,IAAMC,OAAO,0CAAb;AAEA,IAAMC,aAAa,GAAG;AACpBC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,iBADD;AAEpBC,EAAAA,WAAW,EAAE,CAFO;AAGpBC,EAAAA,QAAQ,EAAE,EAHU;AAIpBC,EAAAA,MAAM,EAAE,MAJY;AAKpBC,EAAAA,cAAc,EAAE,CALI;AAMpBC,EAAAA,MAAM,EAAE;AANY,CAAtB;;AASA,SAASC,WAAT,CAAsBC,KAAtB,EAA6B;AAAA,MAEzBC,EAFyB,GAMvBD,KANuB,CAEzBC,EAFyB;AAAA,MAGzBC,IAHyB,GAMvBF,KANuB,CAGzBE,IAHyB;AAAA,MAIzBC,MAJyB,GAMvBH,KANuB,CAIzBG,MAJyB;AAAA,MAKzBC,MALyB,GAMvBJ,KANuB,CAKzBI,MALyB;AAQ3B,+BAAsBF,IAAtB,+BAA+CE,MAA/C,cAAyDH,EAAzD,cAA+DE,MAA/D;AACD;;AAED,SAASE,YAAT,CAAuBL,KAAvB,EAA8B;AAC5B,iDAAwCA,KAAK,CAACM,KAA9C;AACD;;AAED,SAASC,WAAT,CAAsBP,KAAtB,EAA6B;AAC7B,SAAOb,KAAK,CACTqB,GADI,CACApB,OADA,EACS;AAAEC,IAAAA,aAAa,EAAbA;AAAF,GADT,EAEJoB,IAFI,CAEC,gBAAc;AAAA,QAAXC,IAAW,QAAXA,IAAW;;AAElB,QAAInB,OAAO,CAACC,GAAR,CAAYmB,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BH,IAA/B;AACD;;AAED,QAAIA,IAAI,CAACI,IAAL,KAAc,MAAd,IAAwB,CAACJ,IAAI,CAACK,MAAlC,EAA0C;AACxC,YAAM,IAAIC,KAAJ,CAAU,qBAAV,CAAN;AACD;;AAED,QAAMD,MAAM,GAAGL,IAAI,CAACK,MAAL,CAAYf,KAAZ,IAAqB,EAApC;AAEA,WAAOe,MAAM,CACZE,GADM,CACF,UAACC,IAAD,EAAU;AACbA,MAAAA,IAAI,CAACC,WAAL,GAAmBD,IAAI,CAACC,WAAL,CAAiBC,QAApC;AACAF,MAAAA,IAAI,CAACG,QAAL,GAAgBtB,WAAW,CAACmB,IAAD,CAA3B;AACAA,MAAAA,IAAI,CAACI,SAAL,GAAiBjB,YAAY,CAACa,IAAD,CAA7B;AACA,aAAOA,IAAP;AACD,KANM,CAAP;AAOD,GArBI,CAAP;AAsBC;;AAAA;;IAIKK,G;;;;;;;;;;;;;AACN;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;6BAEW;AACP;AACA;AACA;AAEA;AAEA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAMD;;;;EA9CerC,S;;AAiDlB,eAAeqC,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios';\n// import ImageList from \"./ImageList\";\n\nconst baseUrl = `https://api.flickr.com/services/rest/`;\n\nconst defaultParams = {\n  API_KEY: process.env.REACT_APP_API_KEY,\n  safe_search: 1,\n  per_page: 20,\n  format: 'json',\n  nojsoncallback: 1,\n  extras: 'owner_name,description,tags'\n}\n\nfunction getPhotoURL (photo) {\n  const {\n    id,\n    farm,\n    secret,\n    server\n  } = photo;\n\n  return `https://farm${farm}.staticflickr.com/${server}/${id}_${secret}.jpg`;\n}\n\nfunction getAuthorURL (photo) {\n  return `https://www.flickr.com/people/${photo.owner}/`;\n}\n\nfunction fetchPhotos (photo) {\nreturn axios\n  .get(baseUrl, { defaultParams })\n  .then(({ data }) => {\n\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Fetched photos ', data);\n    }\n\n    if (data.stat === 'fail' || !data.photos) {\n      throw new Error('API request failed.');\n    }\n\n    const photos = data.photos.photo || [];\n\n    return photos\n    .map((item) => {\n      item.description = item.description._content;\n      item.photoURL = getPhotoURL(item);\n      item.authorURL = getAuthorURL(item);\n      return item;\n    });\n  });\n};\n\n\n\nclass Api extends Component {\n//   constructor(props) {\n//     super(props);\n\n//     this.state = {\n//       items: [],\n//     }\n//   }\n\n//   componentDidMount() {\n//     const url = `${baseUrl}?method=flickr.photos.getRecent&api_key=${API_KEY}&per_page=10&format=json&nojsoncallback=1&extras=owner_name,description,url_o`;\n\n//     fetch(url)\n//       .then(response => response.json())\n//       .then(data => {\n//         let picArray = data.photos.photo.map(pic => {\n//           let srcPath =\n//             \"https://farm\" +\n//             pic.farm +\n//             \".staticflickr.com/\" +\n//             pic.server +\n//             \"/\" +\n//             pic.id +\n//             \"_\" +\n//             pic.secret +\n//             \".jpg\";\n//           return <img alt=\"pic\" src={srcPath} />;\n//         });\n//       }\n//       .then()\n//     );\n//   }\n\n  render() {\n    // const photos = this.state.items.map(photos => {\n    //   return <div>{photos}</div>;\n    // });\n\n    // console.log('hi', {photos});\n\n    return (\n      <div>\n        {/* <span>{photos}</span>\n        <span>{photos.owner}</span> */}\n      </div>\n    )\n  }\n}\n\nexport default Api;\n"]},"metadata":{},"sourceType":"module"}