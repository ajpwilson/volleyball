{"ast":null,"code":"import _classCallCheck from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andy/git/volleyball/src/components/Api.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nvar baseUrl = \"https://api.flickr.com/services/rest/\";\nvar API_KEY = process.env.REACT_APP_API_KEY;\nvar method = \"flickr.interestingness.getList\"; // const method = `flickr.photos.getRecent`;\n\nvar format = \"json\";\nvar jsonCallback = 1;\nvar pageCount = 20; // const extras = `owner_name,description,url_o`;\n\nvar extras = \"description, license, date_upload, date_taken, owner_name, icon_server, original_format, last_update, geo, tags, machine_tags, o_dims, views, media, path_alias, url_sq, url_t, url_s, url_q, url_m, url_n, url_z, url_c, url_l, url_o\"; // class Api extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       items: [],\n//     }\n//   }\n//   componentDidMount() {\n//     const url = `${baseUrl}?method=flickr.photos.getRecent&api_key=${API_KEY}&per_page=30&format=json&nojsoncallback=1&extras=owner_name,description,url_o,user_id`;\n//     fetch(url)\n//       .then(response => response.json())\n//       .then(result => {\n//         this.setState({\n//           items: result.photos.photo\n//         })\n//       }\n//     );\n//   }\n//   // assemble image URL\n//   imageURL(item) {\n//     return 'http://farm' + item.farm + '.staticflickr.com/' + item.server + '/' + item.id + '_' + item.secret + '.jpg'\n//   }\n//   render() {\n//     const { items } = this.state;\n//     return (\n//       this.state.items.map((item, i =>\n//       <div className=\"wrapper\">\n//         <ul className=\"list\">\n//           <li className=\"card\" key={this.state.items}>\n//             {this.state.items.length ?\n//               this.state.items.map((item, index) =>\n//                 <div key={index} onClick={this.selectImage.bind(this,this.imageURL(item))}>\n//                   <img className=\"media-gallery-thumbnails__img\" src={this.imageURL(item)}/>\n//                 </div>)\n//               : <div>Loading...</div>\n//             }\n//           </li>\n//         </ul>\n//       </div>\n//     )\n//   }\n// }\n// export default Api;\n\nvar Api =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Api, _Component);\n\n  // set initial state of elements\n  function Api(props) {\n    var _this;\n\n    _classCallCheck(this, Api);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Api).call(this, props));\n    _this.state = {\n      items: []\n    };\n    return _this;\n  } // make API request\n\n\n  _createClass(Api, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.request = axios.get(\"\".concat(baseUrl, \"?method=\").concat(method, \"&api_key=\").concat(API_KEY, \"&format=\").concat(format, \"&nojsoncallback=\").concat(jsonCallback, \"&per_page=\").concat(pageCount, \"&extras=\").concat(extras)).then(function (result) {\n        _this2.setState({\n          items: result.data.photos.photo\n        });\n      });\n    } // handle image selection\n\n  }, {\n    key: \"selectImage\",\n    value: function selectImage(selectedImage) {\n      this.setState({\n        selectedImage: selectedImage\n      });\n    } // render the app\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var items = this.state.items;\n      console.log(items);\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, this.state.items.length ? this.state.items.map(function (item, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"image\",\n          alt: item.id,\n          src: item.url_z,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, item.title, \" \", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, \"by \", item.ownername)), React.createElement(\"div\", {\n          className: \"content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, item.description._content)), React.createElement(\"div\", {\n          className: \"tags\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \"Tags to go here...\"));\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Loading...\")));\n    }\n  }]);\n\n  return Api;\n}(Component);\n\nexport default Api;","map":{"version":3,"sources":["/Users/andy/git/volleyball/src/components/Api.js"],"names":["React","Component","axios","baseUrl","API_KEY","process","env","REACT_APP_API_KEY","method","format","jsonCallback","pageCount","extras","Api","props","state","items","request","get","then","result","setState","data","photos","photo","selectedImage","console","log","length","map","item","index","id","url_z","title","ownername","description","_content"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\n\nconst baseUrl = `https://api.flickr.com/services/rest/`;\nconst API_KEY = process.env.REACT_APP_API_KEY;\n\nconst method = `flickr.interestingness.getList`;\n// const method = `flickr.photos.getRecent`;\nconst format = `json`;\nconst jsonCallback = 1;\nconst pageCount = 20;\n// const extras = `owner_name,description,url_o`;\nconst extras = `description, license, date_upload, date_taken, owner_name, icon_server, original_format, last_update, geo, tags, machine_tags, o_dims, views, media, path_alias, url_sq, url_t, url_s, url_q, url_m, url_n, url_z, url_c, url_l, url_o`;\n\n// class Api extends Component {\n//   constructor(props) {\n//     super(props);\n\n//     this.state = {\n//       items: [],\n//     }\n//   }\n\n//   componentDidMount() {\n//     const url = `${baseUrl}?method=flickr.photos.getRecent&api_key=${API_KEY}&per_page=30&format=json&nojsoncallback=1&extras=owner_name,description,url_o,user_id`;\n\n//     fetch(url)\n//       .then(response => response.json())\n//       .then(result => {\n//         this.setState({\n//           items: result.photos.photo\n//         })\n//       }\n//     );\n//   }\n\n//   // assemble image URL\n//   imageURL(item) {\n//     return 'http://farm' + item.farm + '.staticflickr.com/' + item.server + '/' + item.id + '_' + item.secret + '.jpg'\n//   }\n\n//   render() {\n//     const { items } = this.state;\n\n//     return (\n//       this.state.items.map((item, i =>\n//       <div className=\"wrapper\">\n//         <ul className=\"list\">\n//           <li className=\"card\" key={this.state.items}>\n//             {this.state.items.length ?\n//               this.state.items.map((item, index) =>\n//                 <div key={index} onClick={this.selectImage.bind(this,this.imageURL(item))}>\n//                   <img className=\"media-gallery-thumbnails__img\" src={this.imageURL(item)}/>\n//                 </div>)\n//               : <div>Loading...</div>\n//             }\n//           </li>\n//         </ul>\n//       </div>\n//     )\n//   }\n// }\n\n// export default Api;\n\n\nclass Api extends Component {\n\n    // set initial state of elements\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: []\n        }\n    }\n\n    // make API request\n    componentDidMount() {\n      this.request =\n        axios\n          .get(`${baseUrl}?method=${method}&api_key=${API_KEY}&format=${format}&nojsoncallback=${jsonCallback}&per_page=${pageCount}&extras=${extras}`)\n          .then((result => {\n            this.setState({\n              items: result.data.photos.photo\n            })\n          }))\n    }\n\n    // handle image selection\n    selectImage(selectedImage) {\n        this.setState({\n            selectedImage\n        })\n    }\n\n    // render the app\n    render() {\n        const { items } = this.state;\n        console.log(items);\n        return (\n          <div className=\"wrapper\">\n            <div className=\"card-container\">\n              {this.state.items.length ?\n                this.state.items.map((item, index) =>\n                  <div key={index} className=\"card\">\n                    <div className=\"image\">\n                      <img className=\"image\" alt={item.id} src={item.url_z}/>\n                    </div>\n                    <div className=\"name\">{item.title} <span>by {item.ownername}</span></div>\n                    <div className=\"content\">\n                      <p>{item.description._content}</p>\n                    </div>\n                    <div className=\"tags\">Tags to go here...</div>\n                  </div>\n\n                  )\n                : <div>Loading...</div>\n              }\n            </div>\n          </div>\n        )\n    }\n}\n\nexport default Api;"]},"metadata":{},"sourceType":"module"}