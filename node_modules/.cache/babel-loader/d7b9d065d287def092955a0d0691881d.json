{"ast":null,"code":"import _classCallCheck from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andy/git/volleyball/src/components/Api.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nvar baseUrl = \"https://api.flickr.com/services/rest/\";\nvar API_KEY = process.env.REACT_APP_API_KEY;\nvar method = \"flickr.interestingness.getList\";\nvar safe = 1;\nvar format = \"json\";\nvar jsonCallback = 1;\nvar pageCount = 20;\nvar extras = \"description, owner_name, tags\";\n\nvar Api =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Api, _Component);\n\n  function Api(props) {\n    var _this;\n\n    _classCallCheck(this, Api);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Api).call(this, props));\n    _this.state = {\n      items: []\n    };\n    return _this;\n  }\n\n  _createClass(Api, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.request = axios.get(\"\".concat(baseUrl, \"?method=\").concat(method, \"&api_key=\").concat(API_KEY, \"&format=\").concat(format, \"&nojsoncallback=\").concat(jsonCallback, \"&per_page=\").concat(pageCount, \"&safe_search=\").concat(safe, \"&extras=\").concat(extras)).then(function (result) {\n        _this2.setState({\n          items: result.data.photos.photo\n        });\n      });\n    }\n  }, {\n    key: \"imgUrl\",\n    value: function imgUrl(image) {\n      return 'http://farm' + image.farm + '.staticflickr.com/' + image.server + '/' + image.id + '_' + image.secret + '.jpg';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var items = this.state.items;\n      console.log(items);\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, this.state.items.length ? this.state.items.map(function (item, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          alt: item.id,\n          src: _this3.imgUrl(item),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: _this3.imgUrl(item),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, item.title), \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"by \", React.createElement(\"a\", {\n          href: 'https://www.flickr.com/photos/' + item.owner,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, item.ownername)))), React.createElement(\"div\", {\n          className: \"content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, item.description._content.substr(0, 150), \"...\")), React.createElement(\"div\", {\n          className: \"tags\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, \"Tags\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, item.tags, \"...\")));\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Loading...\")));\n    }\n  }]);\n\n  return Api;\n}(Component);\n\nexport default Api;","map":{"version":3,"sources":["/Users/andy/git/volleyball/src/components/Api.js"],"names":["React","Component","axios","baseUrl","API_KEY","process","env","REACT_APP_API_KEY","method","safe","format","jsonCallback","pageCount","extras","Api","props","state","items","request","get","then","result","setState","data","photos","photo","image","farm","server","id","secret","console","log","length","map","item","index","imgUrl","title","owner","ownername","description","_content","substr","tags"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,0CAAb;AACA,IAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA5B;AAEA,IAAMC,MAAM,mCAAZ;AACA,IAAMC,IAAI,GAAG,CAAb;AACA,IAAMC,MAAM,SAAZ;AACA,IAAMC,YAAY,GAAG,CAArB;AACA,IAAMC,SAAS,GAAG,EAAlB;AACA,IAAMC,MAAM,kCAAZ;;IAEMC,G;;;;;AAEF,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,6EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE;AADE,KAAb;AAFe;AAKlB;;;;wCAEmB;AAAA;;AAClB,WAAKC,OAAL,GACEhB,KAAK,CACFiB,GADH,WACUhB,OADV,qBAC4BK,MAD5B,sBAC8CJ,OAD9C,qBACgEM,MADhE,6BACyFC,YADzF,uBACkHC,SADlH,0BAC2IH,IAD3I,qBAC0JI,MAD1J,GAEGO,IAFH,CAES,UAAAC,MAAM,EAAI;AACf,QAAA,MAAI,CAACC,QAAL,CAAc;AACZL,UAAAA,KAAK,EAAEI,MAAM,CAACE,IAAP,CAAYC,MAAZ,CAAmBC;AADd,SAAd;AAGD,OANH,CADF;AAQD;;;2BAEMC,K,EAAO;AACZ,aAAO,gBAAgBA,KAAK,CAACC,IAAtB,GAA6B,oBAA7B,GAAoDD,KAAK,CAACE,MAA1D,GAAmE,GAAnE,GAAyEF,KAAK,CAACG,EAA/E,GAAoF,GAApF,GAA0FH,KAAK,CAACI,MAAhG,GAAyG,MAAhH;AACD;;;6BAEQ;AAAA;;AAAA,UACGb,KADH,GACa,KAAKD,KADlB,CACGC,KADH;AAGLc,MAAAA,OAAO,CAACC,GAAR,CAAYf,KAAZ;AACA,aACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKD,KAAL,CAAWC,KAAX,CAAiBgB,MAAjB,GACC,KAAKjB,KAAL,CAAWC,KAAX,CAAiBiB,GAAjB,CAAqB,UAACC,IAAD,EAAOC,KAAP;AAAA,eACnB;AAAK,UAAA,GAAG,EAAEA,KAAV;AAAiB,UAAA,SAAS,EAAC,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,GAAG,EAAED,IAAI,CAACN,EAAf;AAAmB,UAAA,GAAG,EAAE,MAAI,CAACQ,MAAL,CAAYF,IAAZ,CAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,EAIE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAI;AAAG,UAAA,IAAI,EAAE,MAAI,CAACE,MAAL,CAAYF,IAAZ,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6BA,IAAI,CAACG,KAAlC,CAAJ,OAAiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAjD,EAAsD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAS;AAAG,UAAA,IAAI,EAAE,mCAAmCH,IAAI,CAACI,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAyDJ,IAAI,CAACK,SAA9D,CAAT,CAAtD,CADF,CAJF,EAOE;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIL,IAAI,CAACM,WAAL,CAAiBC,QAAjB,CAA0BC,MAA1B,CAAiC,CAAjC,EAAoC,GAApC,CAAJ,QADF,CAPF,EAUE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAtB,EAAmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIR,IAAI,CAACS,IAAT,QAAnC,CAVF,CADmB;AAAA,OAArB,CADD,GAgBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAjBN,CADF,CADF;AAwBH;;;;EApDa3C,S;;AAuDlB,eAAea,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\n\nconst baseUrl = `https://api.flickr.com/services/rest/`;\nconst API_KEY = process.env.REACT_APP_API_KEY;\n\nconst method = `flickr.interestingness.getList`;\nconst safe = 1;\nconst format = `json`;\nconst jsonCallback = 1;\nconst pageCount = 20;\nconst extras = `description, owner_name, tags`;\n\nclass Api extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: []\n        }\n    }\n\n    componentDidMount() {\n      this.request =\n        axios\n          .get(`${baseUrl}?method=${method}&api_key=${API_KEY}&format=${format}&nojsoncallback=${jsonCallback}&per_page=${pageCount}&safe_search=${safe}&extras=${extras}`)\n          .then((result => {\n            this.setState({\n              items: result.data.photos.photo\n            })\n          }))\n    }\n\n    imgUrl(image) {\n      return 'http://farm' + image.farm + '.staticflickr.com/' + image.server + '/' + image.id + '_' + image.secret + '.jpg'\n    }\n\n    render() {\n        const { items } = this.state;\n\n        console.log(items);\n        return (\n          <div className=\"wrapper\">\n            <div className=\"card-container\">\n              {this.state.items.length ?\n                this.state.items.map((item, index) =>\n                  <div key={index} className=\"card\">\n                    <div className=\"image\">\n                      <img alt={item.id} src={this.imgUrl(item)}/>\n                    </div>\n                    <div className=\"name\">\n                      <h3><a href={this.imgUrl(item)}>{item.title}</a> <br/><span>by <a href={'https://www.flickr.com/photos/' + item.owner}>{item.ownername}</a></span></h3>\n                    </div>\n                    <div className=\"content\">\n                      <p>{item.description._content.substr(0, 150)}...</p>\n                    </div>\n                    <div className=\"tags\"><h4>Tags</h4><p>{item.tags}...</p></div>\n                  </div>\n\n                  )\n                : <div>Loading...</div>\n              }\n            </div>\n          </div>\n        )\n    }\n}\n\nexport default Api;"]},"metadata":{},"sourceType":"module"}