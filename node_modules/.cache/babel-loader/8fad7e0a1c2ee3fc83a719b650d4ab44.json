{"ast":null,"code":"import _classCallCheck from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andy/git/volleyball/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andy/git/volleyball/src/components/Api.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nvar baseUrl = \"https://api.flickr.com/services/rest/\";\nvar API_KEY = process.env.REACT_APP_API_KEY;\nvar method = \"flickr.interestingness.getList\"; // const method = `flickr.photos.getRecent`;\n\nvar format = \"json\";\nvar jsonCallback = 1;\nvar pageCount = 20; // const extras = `owner_name,description,url_o`;\n\nvar extras = \"description, owner_name, tags, url_n\";\n\nvar Api =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Api, _Component);\n\n  // set initial state of elements\n  function Api(props) {\n    var _this;\n\n    _classCallCheck(this, Api);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Api).call(this, props));\n    _this.state = {\n      items: []\n    };\n    return _this;\n  } // make API request\n\n\n  _createClass(Api, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.request = axios.get(\"\".concat(baseUrl, \"?method=\").concat(method, \"&api_key=\").concat(API_KEY, \"&format=\").concat(format, \"&nojsoncallback=\").concat(jsonCallback, \"&per_page=\").concat(pageCount, \"&extras=\").concat(extras)).then(function (result) {\n        _this2.setState({\n          items: result.data.photos.photo\n        });\n      });\n    } // handle image selection\n\n  }, {\n    key: \"selectImage\",\n    value: function selectImage(selectedImage) {\n      this.setState({\n        selectedImage: selectedImage\n      });\n    } // render the app\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var items = this.state.items;\n      console.log(items);\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, this.state.items.length ? this.state.items.map(function (item, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          alt: item.id,\n          src: item.url_z,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, item.title, \" \", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, \"by \", item.ownername))), React.createElement(\"div\", {\n          className: \"content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, item.description._content.substr(0, 200), \"...\")), React.createElement(\"div\", {\n          className: \"tags\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Tags to go here...\"));\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Loading...\")));\n    }\n  }]);\n\n  return Api;\n}(Component);\n\nexport default Api;","map":{"version":3,"sources":["/Users/andy/git/volleyball/src/components/Api.js"],"names":["React","Component","axios","baseUrl","API_KEY","process","env","REACT_APP_API_KEY","method","format","jsonCallback","pageCount","extras","Api","props","state","items","request","get","then","result","setState","data","photos","photo","selectedImage","console","log","length","map","item","index","id","url_z","title","ownername","description","_content","substr"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,0CAAb;AACA,IAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA5B;AAEA,IAAMC,MAAM,mCAAZ,C,CACA;;AACA,IAAMC,MAAM,SAAZ;AACA,IAAMC,YAAY,GAAG,CAArB;AACA,IAAMC,SAAS,GAAG,EAAlB,C,CACA;;AACA,IAAMC,MAAM,yCAAZ;;IAEMC,G;;;;;AAEF;AACA,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,6EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE;AADE,KAAb;AAFe;AAKlB,G,CAED;;;;;wCACoB;AAAA;;AAClB,WAAKC,OAAL,GACEf,KAAK,CACFgB,GADH,WACUf,OADV,qBAC4BK,MAD5B,sBAC8CJ,OAD9C,qBACgEK,MADhE,6BACyFC,YADzF,uBACkHC,SADlH,qBACsIC,MADtI,GAEGO,IAFH,CAES,UAAAC,MAAM,EAAI;AACf,QAAA,MAAI,CAACC,QAAL,CAAc;AACZL,UAAAA,KAAK,EAAEI,MAAM,CAACE,IAAP,CAAYC,MAAZ,CAAmBC;AADd,SAAd;AAGD,OANH,CADF;AAQD,K,CAED;;;;gCACYC,a,EAAe;AACvB,WAAKJ,QAAL,CAAc;AACVI,QAAAA,aAAa,EAAbA;AADU,OAAd;AAGH,K,CAED;;;;6BACS;AAAA,UACGT,KADH,GACa,KAAKD,KADlB,CACGC,KADH;AAELU,MAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ;AACA,aACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKD,KAAL,CAAWC,KAAX,CAAiBY,MAAjB,GACC,KAAKb,KAAL,CAAWC,KAAX,CAAiBa,GAAjB,CAAqB,UAACC,IAAD,EAAOC,KAAP;AAAA,eACnB;AAAK,UAAA,GAAG,EAAEA,KAAV;AAAiB,UAAA,SAAS,EAAC,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,GAAG,EAAED,IAAI,CAACE,EAAf;AAAmB,UAAA,GAAG,EAAEF,IAAI,CAACG,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,EAIE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKH,IAAI,CAACI,KAAV,OAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAUJ,IAAI,CAACK,SAAf,CAAjB,CADF,CAJF,EAOE;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIL,IAAI,CAACM,WAAL,CAAiBC,QAAjB,CAA0BC,MAA1B,CAAiC,CAAjC,EAAoC,GAApC,CAAJ,QADF,CAPF,EAUE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAVF,CADmB;AAAA,OAArB,CADD,GAgBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAjBN,CADF,CADF;AAwBH;;;;EAzDarC,S;;AA4DlB,eAAeY,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\n\nconst baseUrl = `https://api.flickr.com/services/rest/`;\nconst API_KEY = process.env.REACT_APP_API_KEY;\n\nconst method = `flickr.interestingness.getList`;\n// const method = `flickr.photos.getRecent`;\nconst format = `json`;\nconst jsonCallback = 1;\nconst pageCount = 20;\n// const extras = `owner_name,description,url_o`;\nconst extras = `description, owner_name, tags, url_n`;\n\nclass Api extends Component {\n\n    // set initial state of elements\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: []\n        }\n    }\n\n    // make API request\n    componentDidMount() {\n      this.request =\n        axios\n          .get(`${baseUrl}?method=${method}&api_key=${API_KEY}&format=${format}&nojsoncallback=${jsonCallback}&per_page=${pageCount}&extras=${extras}`)\n          .then((result => {\n            this.setState({\n              items: result.data.photos.photo\n            })\n          }))\n    }\n\n    // handle image selection\n    selectImage(selectedImage) {\n        this.setState({\n            selectedImage\n        })\n    }\n\n    // render the app\n    render() {\n        const { items } = this.state;\n        console.log(items);\n        return (\n          <div className=\"wrapper\">\n            <div className=\"card-container\">\n              {this.state.items.length ?\n                this.state.items.map((item, index) =>\n                  <div key={index} className=\"card\">\n                    <div className=\"image\">\n                      <img alt={item.id} src={item.url_z}/>\n                    </div>\n                    <div className=\"name\">\n                      <h3>{item.title} <span>by {item.ownername}</span></h3>\n                    </div>\n                    <div className=\"content\">\n                      <p>{item.description._content.substr(0, 200)}...</p>\n                    </div>\n                    <div className=\"tags\">Tags to go here...</div>\n                  </div>\n\n                  )\n                : <div>Loading...</div>\n              }\n            </div>\n          </div>\n        )\n    }\n}\n\nexport default Api;"]},"metadata":{},"sourceType":"module"}